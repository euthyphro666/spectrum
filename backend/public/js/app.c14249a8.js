(function(t){function e(e){for(var a,r,c=e[0],o=e[1],u=e[2],l=0,h=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&h.push(i[r][0]),i[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);A&&A(e);while(h.length)h.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,c=1;c<n.length;c++){var o=n[c];0!==i[o]&&(a=!1)}a&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},i={app:0},s=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var A=o;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"024c":function(t,e,n){},"034f":function(t,e,n){"use strict";var a=n("85ec"),i=n.n(a);i.a},"08df":function(t,e,n){"use strict";var a=n("de95"),i=n.n(a);i.a},"1a74":function(t,e,n){},"1b12":function(t,e,n){},"1f31":function(t,e,n){},"20c3":function(t,e,n){},"25ae":function(t,e,n){"use strict";var a=n("a0b8"),i=n.n(a);i.a},"2e73":function(t,e,n){},"320e":function(t,e,n){"use strict";var a=n("e8d8"),i=n.n(a);i.a},"3b7c":function(t,e,n){"use strict";var a=n("e913"),i=n.n(a);i.a},"3faa":function(t,e,n){"use strict";var a=n("93bf"),i=n.n(a);i.a},"428b":function(t,e,n){"use strict";var a=n("f282"),i=n.n(a);i.a},"53d1":function(t,e,n){"use strict";var a=n("1a74"),i=n.n(a);i.a},"5c05":function(t,e,n){"use strict";var a=n("20c3"),i=n.n(a);i.a},"60cc":function(t,e,n){"use strict";var a=n("1b12"),i=n.n(a);i.a},"7b7f":function(t,e,n){},"85ec":function(t,e,n){},"866f":function(t,e,n){"use strict";var a=n("d014"),i=n.n(a);i.a},"89b9":function(t,e,n){"use strict";var a=n("b2f8"),i=n.n(a);i.a},"8d6d":function(t,e,n){"use strict";var a=n("024c"),i=n.n(a);i.a},"93bf":function(t,e,n){},"9aad":function(t,e,n){"use strict";var a=n("ae2e"),i=n.n(a);i.a},a0b8:function(t,e,n){},ae2e:function(t,e,n){},b0c6:function(t,e,n){"use strict";var a=n("f58c"),i=n.n(a);i.a},b2f8:function(t,e,n){},bf2f:function(t,e,n){"use strict";var a=n("1f31"),i=n.n(a);i.a},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view"),n("div",{attrs:{id:"version"}},[t._v("Alpha v0.1.8")])],1)},s=[],r=n("d4ec"),c=n("99de"),o=n("7e84"),u=n("262e"),A=n("9ab4"),l=n("60a3"),h=function(t){function e(){return Object(r["a"])(this,e),Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(l["c"]);h=A["a"]([Object(l["a"])({components:{}})],h);var d=h,f=d,v=(n("034f"),n("2877")),p=Object(v["a"])(f,i,s,!1,null,null,null),m=p.exports,b=n("8c4f"),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"master-selection",on:{click:function(e){return t.onSelection("/master")}}},[n("h1",[t._v("Game Master")])]),n("div",{staticClass:"player-selection",on:{click:function(e){return t.onSelection("/player")}}},[n("h1",[t._v("Player")])]),n("div",{staticClass:"spectator-selection",on:{click:function(e){return t.onSelection("/spectator")}}},[n("h1",[t._v("Spectator")])]),n("DialogueBox",{attrs:{title:"Welcome",message:"Spectrum is currently in alpha. Expect things to break or not work in the first place. If you have any suggestions or feedback feel free to email joshhess13@gmail.com.",hidden:t.showDialogue},on:{confirmed:t.onDialogue}})],1)},O=[],g=n("bee2"),j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root"},[n("MapCanvas"),n("MapPalette",{attrs:{onTop:!0}})],1)},k=[],x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root"},[n("canvas",{ref:"map-canvas"})])},C=[],w=(n("d81d"),n("4c53"),function(){function t(){Object(r["a"])(this,t),this.x=0,this.y=0,this.s=1}return Object(g["a"])(t,[{key:"move",value:function(t,e){this.x+=t/this.s,this.y+=e/this.s}},{key:"zoom",value:function(t){this.s+=t,this.s<.5?this.s=.5:this.s>10&&(this.s=10)}}]),t}()),E=w,_=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(r["a"])(this,t),this.x=e,this.y=n}return Object(g["a"])(t,[{key:"add",value:function(t,e){return this.x+=t,this.y+=e,this}},{key:"addV",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"sub",value:function(t,e){return this.x-=t,this.y-=e,this}},{key:"subV",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"multiply",value:function(t){return this.x*=t,this.y*=t,this}},{key:"divide",value:function(t){return this.x/=t,this.y/=t,this}},{key:"floorDivide",value:function(t){return this.x=Math.floor(this.x/t),this.y=Math.floor(this.y/t),this}}]),t}(),I=_,T=function(){function t(){Object(r["a"])(this,t),this.camera=new E}return Object(g["a"])(t,[{key:"begin",value:function(t){this.context=t,this.context.clearRect(0,0,this.context.canvas.width,this.context.canvas.height),this.context.strokeStyle="#e4f03d",this.context.lineWidth=3,this.context.beginPath()}},{key:"end",value:function(){this.context&&this.context.stroke(),this.context=void 0}},{key:"renderTile",value:function(e){this.context?this.context.drawImage(e.sprite,(e.x*t.TILE_SIZE+this.camera.x)*this.camera.s,(e.y*t.TILE_SIZE+this.camera.y)*this.camera.s,t.TILE_SIZE*this.camera.s,t.TILE_SIZE*this.camera.s):console.log("[ Screen ] Begin has not been called yet this frame.")}},{key:"renderTileOutline",value:function(e,n){var a=new I(0,0);return this.context?this.context.rect(e,n,t.TILE_SIZE*this.camera.s,t.TILE_SIZE*this.camera.s):console.log("[ Screen ] Begin has not been called yet this frame."),a}},{key:"screenToWorldSpace",value:function(t){return t.divide(this.camera.s).sub(this.camera.x,this.camera.y)}},{key:"worldToScreenSpace",value:function(t){return t.divide(this.camera.s).sub(this.camera.x,this.camera.y)}},{key:"screenToIndexSpace",value:function(e){return e.divide(this.camera.s).sub(this.camera.x,this.camera.y).floorDivide(t.TILE_SIZE)}},{key:"indexToScreenSpace",value:function(e){return e.multiply(t.TILE_SIZE).add(this.camera.x,this.camera.y).multiply(this.camera.s)}}]),t}();T.TILE_SIZE=64;var S=function(){function t(){Object(r["a"])(this,t),this.upPressed=!1,this.downPressed=!1,this.leftPressed=!1,this.rightPressed=!1,this.panPressed=!1,this.clickDown=!1,this.mdx=0,this.mdy=0,this.mlx=0,this.mly=0,this.ds=0,this.mx=0,this.my=0}return Object(g["a"])(t,[{key:"getClick",value:function(){return this.clickDown}},{key:"update",value:function(t,e){var n=5,a=this.leftPressed?this.rightPressed?0:-n:this.rightPressed?n:0,i=this.upPressed?this.downPressed?0:-n:this.downPressed?n:0;a+=this.mdx,i+=this.mdy,this.mdx=0,this.mdy=0,e.move(-a,-i),e.zoom(this.ds),this.ds=0}},{key:"registerEvents",value:function(){document.addEventListener("keydown",this.onKeyDown.bind(this),{passive:!0}),document.addEventListener("keyup",this.onKeyUp.bind(this),{passive:!0}),document.addEventListener("mousedown",this.onMouseDown.bind(this),{passive:!0}),document.addEventListener("mousemove",this.onMouseMove.bind(this),{passive:!0}),document.addEventListener("mouseup",this.onMouseUp.bind(this),{passive:!0}),document.addEventListener("wheel",this.onScroll.bind(this),{passive:!0})}},{key:"unRegisterEvents",value:function(){document.removeEventListener("keydown",this.onKeyDown.bind(this)),document.removeEventListener("keyup",this.onKeyUp.bind(this))}},{key:"onKeyDown",value:function(t){65===t.keyCode||37===t.keyCode?this.leftPressed=!0:87===t.keyCode||38===t.keyCode?this.upPressed=!0:83===t.keyCode||40===t.keyCode?this.downPressed=!0:68!==t.keyCode&&39!==t.keyCode||(this.rightPressed=!0)}},{key:"onKeyUp",value:function(t){65===t.keyCode||37===t.keyCode?this.leftPressed=!1:87===t.keyCode||38===t.keyCode?this.upPressed=!1:83===t.keyCode||40===t.keyCode?this.downPressed=!1:68!==t.keyCode&&39!==t.keyCode||(this.rightPressed=!1)}},{key:"onMouseDown",value:function(t){(t.shiftKey||1===t.button)&&(this.panPressed=!0,this.mlx=t.screenX,this.mly=t.screenY),this.clickDown=!0}},{key:"onMouseMove",value:function(t){this.mx=t.clientX,this.my=t.clientY,this.panPressed&&(this.mdx+=this.mlx-t.screenX,this.mdy+=this.mly-t.screenY,this.mlx=t.screenX,this.mly=t.screenY)}},{key:"onMouseUp",value:function(t){this.panPressed=!1,this.clickDown=!1}},{key:"onScroll",value:function(t){this.ds-=t.deltaY/1e3}}]),t}(),M=S;function B(t,e,n){return t.tiles[n*t.width+e]}function Q(t,e,n,a){t.tiles[n*t.width+e]=a}function L(){return{discriminator:"spectrum.map",id:"d10c2776-cc1b-402f-b87c-46da711c4da6",name:"Default Map",thumbnail:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAsTAAALEwEAmpwYAAABcVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATWVroAAAAenRSTlMAAQIDBAUGBwgJCwwNDxAREhQVFhcZGhseHyAhIiUmJygtLzA1Nzg9P0FGSEpQUlRbXF9lZ2hqbnFzdXZ8foCDiYqMjo+VlpecoKKpq62us7W3uL2+wMPHyczP0NHU1dbY3N3e4OLj5Obo6ert7u/y8/X29/n6+/z9/l5G4FoAAAInSURBVHja7dxXVxRBEIbhWlfEJRhACYJiQEAFBCQZAROyJhQURdRdSSaQpLj167mnLmUGqny/H1A9z/Q53VOn57TInub0J000klIaixoCcm5RQ0AufNMQkNafGgLS/ktDQK6uawhI15aGgPT80RCQG381BGRYNQTkrsaAjGkISOaRhoBkJxIeMiVI2TMNATk6qSEgldMaAnJsRkNAamY1BKTus4aAnPmiISAtS7ufvOQScvG7mYIBj5DLK8YxJA4hHWvGcUscQq5tGMcdcQjptu35iDiE9G4bx6g4hPSXjOOhOITctFvfY3EIuWcdTzIOIfetI39I3EEy49bxNCvuINm8dbw4LO4gR55bx8sycQfJvbKO1+XiDlL1xjqmcuIOcvyddbytEHeQ2jnrmKkSd5D6gnW8rxZ3kOZ56/hwQtxBzi9bx8eT4g5y6Yd1FE6JO0jbqnUU68Qd5Iptz3WhQdxBOjetY6lJ3EGu/7aOr2fFHaRve/8Pyfai6mBJQ0BuH4hjy3+vOqIxIA80CESBAAECBAgQIKn9JwUECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAOaBvAggQIECAAAECBAgQIECAAPl/IYmOBQQIECBAgAABAgQIECBAgAAB4hCyD5cqAQECBAgQIECAAAHCZzwQIECAAAECBAgQIECcQJJthYAAAQLEFyTFtR0IECBAgJDY2QGtwG+USmY7swAAAABJRU5ErkJggg==",height:16,width:16,tiles:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}var P=function(){function t(e){Object(r["a"])(this,t),this.store=e;var n=e.state.tiles,a=e.state.currentMap;this.width=a.width,this.height=a.height,this.tiles=new Array(this.width*this.height);for(var i=0;i<this.height;i++)for(var s=0;s<this.width;s++){var c=B(a,s,i);this.tiles[this.width*i+s]={id:c,sprite:n.getImage(c),x:s,y:i}}}return Object(g["a"])(t,[{key:"getTile",value:function(t,e){if(!(t<0||t>=this.width||e<0||e>=this.height))return this.tiles[this.width*e+t]}},{key:"updateTile",value:function(t,e,n,a){console.log("updating tile");var i=this.getTile(t,e);i&&(i.id=n,i.sprite=a,Q(this.store.state.currentMap,t,e,n))}},{key:"render",value:function(t){for(var e=0;e<this.height;e++)for(var n=0;n<this.width;n++)t.renderTile(this.getTile(n,e))}}]),t}(),$=function(){function t(e){Object(r["a"])(this,t),this.store=e,this.cursorLocation=new I}return Object(g["a"])(t,[{key:"update",value:function(t,e,n){if(this.cursorLocation.x=e.mx,this.cursorLocation.y=e.my,t.screenToIndexSpace(this.cursorLocation),e.getClick()){var a=n.getTile(this.cursorLocation.x,this.cursorLocation.y);a&&this.store.state.selected&&this.lastTileEdited!==a&&(n.updateTile(this.cursorLocation.x,this.cursorLocation.y,this.store.state.selected,this.store.state.tiles.getImage(this.store.state.selected)),this.lastTileEdited=a)}else this.lastTileEdited=void 0;t.indexToScreenSpace(this.cursorLocation)}},{key:"render",value:function(t){t.renderTileOutline(this.cursorLocation.x,this.cursorLocation.y)}}]),t}(),D=function(){function t(e){Object(r["a"])(this,t),this.store=e,this.controller=new M,this.screen=new T,this.map=new P(this.store),this.editor=new $(this.store),this.controller.registerEvents()}return Object(g["a"])(t,[{key:"update",value:function(t){this.controller.update(t,this.screen.camera),this.editor.update(this.screen,this.controller,this.map)}},{key:"render",value:function(t){this.store.state.tiles.hasLoaded()&&(this.screen.begin(t),this.map.render(this.screen),this.editor.render(this.screen),this.screen.end())}},{key:"close",value:function(){}}]),t}(),R=function(t){function e(){return Object(r["a"])(this,e),Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(g["a"])(e,[{key:"mounted",value:function(){var t=this.$refs["map-canvas"];this.context=t.getContext("2d"),this.context.canvas.width=this.context.canvas.clientWidth,this.context.canvas.height=this.context.canvas.clientHeight,window.addEventListener("resize",this.onResize.bind(this),{passive:!0}),this.map=new D(this.$store),this.lastTime=Date.now(),this.requestId=requestAnimationFrame(this.tick.bind(this))}},{key:"tick",value:function(t){var e=t-this.lastTime;this.map.update(e),this.lastTime=t,this.map.render(this.context),this.requestId=requestAnimationFrame(this.tick.bind(this))}},{key:"onResize",value:function(t){this.context.canvas.width=this.context.canvas.clientWidth,this.context.canvas.height=this.context.canvas.clientHeight}}]),e}(l["c"]);R=A["a"]([Object(l["a"])({name:"MapCanvas",components:{}})],R);var q=R,J=q,U=(n("53d1"),Object(v["a"])(J,x,C,!1,null,"49eda578",null)),G=U.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"palette",class:{top:t.onTop,left:!t.onTop}},t._l(t.sprites,(function(e){return n("div",{key:e,staticClass:"tile"},[n("img",{attrs:{src:t.$store.state.assets.images.get(e).src,alt:e},on:{click:function(n){return t.onClick(n,e)}}})])})),0)},F=[],N=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.sprites=[],t}return Object(u["a"])(e,t),Object(g["a"])(e,[{key:"mounted",value:function(){this.$store}},{key:"onClick",value:function(t,e){this.$store}}]),e}(l["c"]);A["a"]([Object(l["b"])({default:!0})],N.prototype,"onTop",void 0),N=A["a"]([Object(l["a"])({name:"MapPalette",components:{}})],N);var K=N,Z=K,z=(n("e199"),Object(v["a"])(Z,Y,F,!1,null,"751fbf52",null)),W=z.exports,H=function(t){function e(){return Object(r["a"])(this,e),Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(l["c"]);H=A["a"]([Object(l["a"])({name:"World",components:{MapCanvas:G,MapPalette:W}})],H);var V=H,X=V,tt=(n("25ae"),Object(v["a"])(X,j,k,!1,null,"19c9b54a",null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialogue-background",class:{hidden:t.hidden}},[n("div",{staticClass:"dialogue-box"},[n("h1",[t._v(t._s(t.title))]),n("h2",[t._v(t._s(t.message))]),n("div",{staticClass:"dialogue-button",on:{click:function(e){t.hidden=!0,t.$emit("confirmed")}}},[n("h2",[t._v("Confirm")])])])])},at=[],it=function(t){function e(){return Object(r["a"])(this,e),Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(l["c"]);it=A["a"]([Object(l["a"])({name:"DialogueBox",components:{},props:{title:String,message:String,hidden:String}})],it);var st=it,rt=st,ct=(n("08df"),Object(v["a"])(rt,nt,at,!1,null,"11dabef2",null)),ot=ct.exports,ut=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.showDialogue=!1,t}return Object(u["a"])(e,t),Object(g["a"])(e,[{key:"mounted",value:function(){this.showDialogue=this.$store.state.welcomeMessage}},{key:"onDialogue",value:function(){this.$store.state.welcomeMessage=!0,this.showDialogue=!0}},{key:"onSelection",value:function(t){this.$router.push(t)}}]),e}(l["c"]);ut=A["a"]([Object(l["a"])({name:"Home",components:{World:et,DialogueBox:ot}})],ut);var At=ut,lt=At,ht=(n("866f"),Object(v["a"])(lt,y,O,!1,null,"8bcc5396",null)),dt=ht.exports,ft=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},vt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v("This is an about page")])])}],pt={},mt=Object(v["a"])(pt,ft,vt,!1,null,null,null),bt=mt.exports,yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"master"},[n("InfoBar",{attrs:{title:"Maps",subtitle:"Example Campaign"}}),n("div",{staticClass:"content"},[t._m(0),n("div",{staticClass:"templates"},t._l(t.templates,(function(e){return n("TemplateCard",{key:e.id,attrs:{title:e.name,thumbnail:e.thumbnail},on:{load:function(n){return t.load(e)}}})})),1),t._m(1),n("div",{staticClass:"body"},t._l(t.maps,(function(e){return n("MapCard",{key:e,attrs:{title:e},on:{load:function(n){return t.load(e)}}})})),1)])],1)},Ot=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"template-header"},[n("h1",[t._v("Start a new map")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"body-header"},[n("h1",[t._v("Recent maps")])])}],gt=(n("b0c0"),n("96cf"),n("1da1")),jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info-bar"},[n("h1",{staticClass:"left"},[t._v(t._s(t.title))]),n("div",{staticClass:"search"},[t._v(t._s(t.search))]),n("h1",{staticClass:"right"},[t._v(t._s(t.subtitle))])])},kt=[],xt=(n("ac1f"),n("841c"),function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.search="Search",t}return Object(u["a"])(e,t),e}(l["c"]));xt=A["a"]([Object(l["a"])({name:"InfoBar",components:{},props:{title:String,subtitle:String}})],xt);var Ct=xt,wt=Ct,Et=(n("d1f0"),Object(v["a"])(wt,jt,kt,!1,null,"cec287b6",null)),_t=Et.exports,It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"map-card",on:{click:function(e){return t.$emit("load")}}},[n("div",{staticClass:"thumb"}),n("h1",[t._v(t._s(t.title))])])},Tt=[],St=function(t){function e(){return Object(r["a"])(this,e),Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(l["c"]);St=A["a"]([Object(l["a"])({name:"MapCard",components:{},props:{title:String}})],St);var Mt=St,Bt=Mt,Qt=(n("8d6d"),Object(v["a"])(Bt,It,Tt,!1,null,"56aaa73a",null)),Lt=Qt.exports,Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"template-card",on:{click:function(e){return t.$emit("load")}}},[n("div",{staticClass:"thumb"},[n("img",{attrs:{src:t.thumbnail,alt:t.title}})]),n("h1",[t._v(t._s(t.title))])])},$t=[],Dt=function(t){function e(){return Object(r["a"])(this,e),Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(l["c"]);Dt=A["a"]([Object(l["a"])({name:"TemplateCard",components:{},props:{title:String,thumbnail:String}})],Dt);var Rt=Dt,qt=Rt,Jt=(n("89b9"),Object(v["a"])(qt,Pt,$t,!1,null,"e4a21486",null)),Ut=Jt.exports,Gt=n("bc3a"),Yt=n.n(Gt),Ft=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.templates=[],t.maps=[],t}return Object(u["a"])(e,t),Object(g["a"])(e,[{key:"mounted",value:function(){var t=Object(gt["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.requestMaps("Example").then((function(){return e.requestTemplates()})).catch((function(t){console.log("[ Master ] Error:${error}")}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"requestMaps",value:function(){var t=Object(gt["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("[ Master ] Requesting maps for group ".concat(e,".")),t.prev=1,t.next=4,Yt.a.get("/requestMaps",{params:{groupId:e}});case 4:n=t.sent,n.data&&n.data.maps&&(this.maps=n.data.maps),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"requestTemplates",value:function(){var t=Object(gt["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Yt.a.get("/requestTemplates");case 3:e=t.sent,console.log("[ Master ] Got request templates. ".concat(JSON.stringify(e.data))),e.data&&e.data.templates&&(this.templates=e.data.templates),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"load",value:function(t){console.log("[ Master ] Got load template request for ".concat(t.name,".")),this.$store.state.currentMap=t,this.$router.push("editor")}}]),e}(l["c"]);Ft=A["a"]([Object(l["a"])({name:"Master",components:{InfoBar:_t,MapCard:Lt,TemplateCard:Ut}})],Ft);var Nt=Ft,Kt=Nt,Zt=(n("b0c6"),Object(v["a"])(Kt,yt,Ot,!1,null,"45b8fc6d",null)),zt=Zt.exports,Wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"player"})},Ht=[],Vt=function(t){function e(){return Object(r["a"])(this,e),Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(l["c"]);Vt=A["a"]([Object(l["a"])({name:"Player",components:{}})],Vt);var Xt=Vt,te=Xt,ee=(n("9aad"),Object(v["a"])(te,Wt,Ht,!1,null,"6641f362",null)),ne=ee.exports,ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spectator"})},ie=[],se=function(t){function e(){return Object(r["a"])(this,e),Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(l["c"]);se=A["a"]([Object(l["a"])({name:"Spectator",components:{}})],se);var re=se,ce=re,oe=(n("5c05"),Object(v["a"])(ce,ae,ie,!1,null,"600f29fe",null)),ue=oe.exports,Ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editor"},[n("TabBar"),n("MapCanvas")],1)},le=[],he=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab-bar"},[n("div",{staticClass:"tabs"},t._l(t.tabs,(function(e){return n("Tab",{key:e.name,attrs:{name:e.name,active:e.active,image:e.image},on:{clicked:function(n){return t.onClick(e)}}})})),1),n("div",{staticClass:"content",class:{hidden:!t.tabActive}},[n(t.currentTab,{tag:"component"})],1)])},de=[],fe=(n("4160"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab",class:{highlighted:t.active},on:{click:function(e){return t.$emit("clicked")}}},[t._v(" "+t._s(t.image)+" ")])}),ve=[],pe=function(t){function e(){return Object(r["a"])(this,e),Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(l["c"]);A["a"]([Object(l["b"])()],pe.prototype,"name",void 0),A["a"]([Object(l["b"])()],pe.prototype,"active",void 0),A["a"]([Object(l["b"])()],pe.prototype,"image",void 0),pe=A["a"]([Object(l["a"])({name:"Tab",components:{}})],pe);var me=pe,be=me,ye=(n("bf2f"),Object(v["a"])(be,fe,ve,!1,null,"7bbf027b",null)),Oe=ye.exports,ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"file-bar"},[n("div",{staticClass:"title"},[t._v("- FILE -")]),n("div",{staticClass:"button"},[t._v("New")]),n("div",{staticClass:"button",on:{click:function(e){return t.onSave()}}},[t._v("Save")]),n("div",{staticClass:"button"},[t._v("Save As")]),n("div",{staticClass:"button"},[t._v("Load")])])},je=[],ke=function(t){function e(){return Object(r["a"])(this,e),Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(g["a"])(e,[{key:"onSave",value:function(){this.$store.dispatch("saveMap")}}]),e}(l["c"]);ke=A["a"]([Object(l["a"])({name:"FileBar",components:{}})],ke);var xe=ke,Ce=xe,we=(n("428b"),Object(v["a"])(Ce,ge,je,!1,null,"c6b9f52c",null)),Ee=we.exports,_e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tile-bar"},t._l(Array.from(t.tiles().names.keys()),(function(e){return n("div",{key:e,staticClass:"tile"},[n("img",{attrs:{src:t.tiles().getImage(e).src,alt:t.tiles().getName(e)},on:{click:function(n){return t.onClick(e)}}})])})),0)},Ie=[],Te=function(t){function e(){return Object(r["a"])(this,e),Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(g["a"])(e,[{key:"tiles",value:function(){return this.$store.state.tiles}},{key:"onClick",value:function(t){var e=this.$store;e.state.selected=t}}]),e}(l["c"]);Te=A["a"]([Object(l["a"])({name:"TileBar",components:{}})],Te);var Se=Te,Me=Se,Be=(n("60cc"),Object(v["a"])(Me,_e,Ie,!1,null,"4fa6b583",null)),Qe=Be.exports,Le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"asset-bar"})},Pe=[],$e=function(t){function e(){return Object(r["a"])(this,e),Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(l["c"]);$e=A["a"]([Object(l["a"])({name:"AssetBar",components:{}})],$e);var De=$e,Re=De,qe=(n("320e"),Object(v["a"])(Re,Le,Pe,!1,null,"794fc71a",null)),Je=qe.exports,Ue=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.tabs=[],t.currentTab=null,t.tabActive=!1,t}return Object(u["a"])(e,t),Object(g["a"])(e,[{key:"mounted",value:function(){this.tabs=[{name:"File",active:!1,image:"F",component:Ee},{name:"Tiles",active:!1,image:"T",component:Qe},{name:"Assets",active:!1,image:"A",component:Je},{name:"Forum",active:!1,image:"C",component:Je}]}},{key:"onClick",value:function(t){console.log("got tab: ".concat(t.name)),this.tabs.forEach((function(e){t.name!==e.name&&(e.active=!1)})),t.active?(t.active=!1,this.currentTab=null,this.tabActive=!1):(t.active=!0,this.currentTab=t.component,this.tabActive=!0)}}]),e}(l["c"]);Ue=A["a"]([Object(l["a"])({name:"TabBar",components:{Tab:Oe}})],Ue);var Ge=Ue,Ye=Ge,Fe=(n("3faa"),Object(v["a"])(Ye,he,de,!1,null,"b0f6b5ca",null)),Ne=Fe.exports,Ke=function(t){function e(){return Object(r["a"])(this,e),Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(l["c"]);Ke=A["a"]([Object(l["a"])({name:"Editor",components:{MapCanvas:G,TabBar:Ne}})],Ke);var Ze=Ke,ze=Ze,We=(n("3b7c"),Object(v["a"])(ze,Ae,le,!1,null,"3de30383",null)),He=We.exports;a["a"].use(b["a"]);var Ve=new b["a"]({routes:[{path:"/",name:"home",component:dt},{path:"/about",name:"about",component:bt},{path:"/master",name:"master",component:zt},{path:"/player",name:"player",component:ne},{path:"/spectator",name:"spectator",component:ue},{path:"/editor",name:"editor",component:He}]}),Xe=n("2f62");n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function tn(t){return"spectrum.tile"===t.discriminator}var en=function(){function t(){Object(r["a"])(this,t),this.names=[],this.images=[],this.loaded=!1}return Object(g["a"])(t,[{key:"init",value:function(){var t=Object(gt["a"])(regeneratorRuntime.mark((function t(){var e,n,a,i,s,r,c,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Yt.a.get("/requestTiles");case 2:if(e=t.sent,!e.data.tiles){t.next=23;break}for(n=!0,a=!1,i=void 0,t.prev=7,s=e.data.tiles[Symbol.iterator]();!(n=(r=s.next()).done);n=!0)c=r.value,tn(c)&&(this.names[c.id]=c.name,o=new Image,o.src=c.image,this.images[c.id]=o);t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](7),a=!0,i=t.t0;case 15:t.prev=15,t.prev=16,n||null==s.return||s.return();case 18:if(t.prev=18,!a){t.next=21;break}throw i;case 21:return t.finish(18);case 22:return t.finish(15);case 23:this.loaded=!0;case 24:case"end":return t.stop()}}),t,this,[[7,11,15,23],[16,,18,22]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"getName",value:function(t){return this.names[t]}},{key:"getImage",value:function(t){return this.images[t]}},{key:"hasLoaded",value:function(){return this.loaded}}]),t}();a["a"].use(Xe["b"]);var nn=new en;nn.init();var an=new Xe["a"]({state:{welcomeMessage:!1,currentMap:L(),tiles:nn,selected:0},mutations:{},actions:{saveMap:function(t){console.log("Saving map..."),Yt.a.post("/saveMap",{map:t.state.currentMap})}},modules:{}});a["a"].config.productionTip=!1,new a["a"]({router:Ve,store:an,render:function(t){return t(m)}}).$mount("#app")},d014:function(t,e,n){},d1f0:function(t,e,n){"use strict";var a=n("2e73"),i=n.n(a);i.a},de95:function(t,e,n){},e199:function(t,e,n){"use strict";var a=n("7b7f"),i=n.n(a);i.a},e8d8:function(t,e,n){},e913:function(t,e,n){},f282:function(t,e,n){},f58c:function(t,e,n){}});
//# sourceMappingURL=app.c14249a8.js.map