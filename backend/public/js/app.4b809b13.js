(function(t){function e(e){for(var n,s,r=e[0],c=e[1],o=e[2],l=0,h=[];l<r.length;l++)s=r[l],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&h.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(h.length)h.shift()();return i.push.apply(i,o||[]),A()}function A(){for(var t,e=0;e<i.length;e++){for(var A=i[e],n=!0,r=1;r<A.length;r++){var c=A[r];0!==a[c]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=A[0]))}return t}var n={},a={app:0},i=[];function s(e){if(n[e])return n[e].exports;var A=n[e]={i:e,l:!1,exports:{}};return t[e].call(A.exports,A,A.exports,s),A.l=!0,A.exports}s.m=t,s.c=n,s.d=function(t,e,A){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:A})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var A=Object.create(null);if(s.r(A),Object.defineProperty(A,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(A,n,function(e){return t[e]}.bind(null,n));return A},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var o=0;o<r.length;o++)e(r[o]);var u=c;i.push([0,"chunk-vendors"]),A()})({0:function(t,e,A){t.exports=A("cd49")},"024c":function(t,e,A){},"034f":function(t,e,A){"use strict";var n=A("85ec"),a=A.n(n);a.a},"08df":function(t,e,A){"use strict";var n=A("de95"),a=A.n(n);a.a},1963:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURRgTDxcTEBcTEhYVERYUFRgSEBsTERgSEhkTExkTFRgUEBgUERkVEhgUExkWERsWEhsWExkUFBsVFRsXFBsXFhwUERwUEh0VExwWExwXFB8XFR8YEh0YFB0YFR4ZFh8aFB8aFh8aFx8bGiAZEyAYFSAYFiEZFyIbFSAaFyEcFiIdFyQdFyMZGiEaGCMbGSEcGCEcGSIdGiMeGiMeGyYdGCQcGSQcGiUeGCQfGSQeGyYfHCUgGiYhGyUgHCYhHSYhHiciHCciHighGSggGyohHCggHSkhHikhHykiHCojHSgiHyokHiwkHy0mHi4nHywoHykkIColISsmIi4lICwkIS0lIi0mIC0nIS4mIy8nJC8oIi8qJjAnIjApITIpIjApIzIrITEqIjIqIzAoJTEqJDIqJTIqJzMsJDMsJjQrIjQrJDQrJjoyJzoxKjozKTkyKjoyKzkyLDozLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABVUbjYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhWSURBVHhe7ZvtY+NGEcZ1pb4T2jEnHe1hgSVsmrRKQZGiEEOO1j03TXATF7gCScv7mZiU98D//4FnZmVZdmwdiSTnw/lJLMmyPPPT7OxqtVobSjXJJDXTA1liD+m9+c8qERzQR4Mo5G160yDlKMfKeTFNogYJARioke6uTGJ6cBREFr9zDDKbQDDlMy3e7g8nX52fDwdBmKKZFQnna8JBHLq+GFWGpb5m5d0rp8mEH/99Mvrl0UmIQCEMFZYDh1WpIPA8/dYQ20KQOXG+Fx8fh5Hn2+S24v2KvDuyTG0hAm6Tz1QhCSEGsKd0yoii/ocRGMkWgGoI2AheHE2iOEwjkAPAZ0i4h6S+/M3orBO4HodfKd8LgmoSkU+O6PMLeCNT7e1pmBmAJsTyy9+dvej4ngYgDwCSr+XEp/2AlPXw4mdc5RjAFm9TAEEAmjp9ttWybbJRAHKAokoA2BS9oX77589+fvoRG+522h6vpwCOatAjkyyrP3Q9h2zyUU34S0iYWI4pK1gy1R8vzy+en/J5dbuenwfgzwHx3/+802rZfvdxqy1JoqPAXygpNkGOdfl7nFAEf9oklvkkdOjh9fV3fKLtrVbLa8t35K8COWzHtC5fqq9HO7pKSpuPdiAVGMyfHkUR0RPHVklVlW9OZF1cHKBA85anAEjAb6jjYRDaaPjsVrKHg7gJrExiyro4P4jZsuwSTQG4VaLLyyekQOCjBui6XxkBm8fr/e9HqP95u1MALhVrPHE4AOShBuCYyryLOJ8p2on3hCRTVgTU+Ms42CVyuQXQvqsEYFu22YhjZJneozVLQuvty/FuqADgogIybZUZAMGaSXEUR1a+j5EBOFfj0dk7aIA9z0dFlH1VAkhQHWXR4DRCGmamMwDz6q+j0ZbX9nz88QHVM3AELHU6iKPGDQA0ApNxy7NdVEEbjXDF0c/JQjs4pwzg8g8tz2UAl5OwPsVL2wEA/Gq0jbK3IakvsrseocebUwbw+Wirg6uwBqhPbHspADXePnyG+Lu27prJ7lq0gJBFgKh3iAggCxYQq9ec+SwCSm1tEWqAi55SnVps36YAVtNpw/cWA9QcgPkQZEXAsnEdaEs7WDtDphwArsS239ZdsfVpDgAX4pbryubatFAELlpDvb0u5QHIhX9CO7BOzQF4nov7wfprQV5zReBC63W/kIRTgHUyMEDqnoVrATLhPgDS89Y9glovRgvKIsCC4zWnYL4IJAYaoOoOcZFyEYBX6nbTbb1ag24AaNf3AKCjzhC8Xp8WkzDbWpNm9wX3pQ3ABmADcN8Am3ZgA7AB2ADUD4CuTWHvpl6A1HVRJ7tGAN25l0HvggeP9UaAxyRf8fy95iII+QlRYU+75iTUzxxzo+M3VCcAvEZRgHutggDUBiA+yYriQB6Br1ZpgCDg5epzTPY5B1Y7KA0QBbC/OtMpOcRSz0lZqtIAZO/tq4aeHrFMUTQYDE6xseKevzSAbR/0lpsWEQD6z0/nnpTNqSwA2dTr8aPpVSIVRB/8JJrOxrmh0hFw7CQp/L4VR4cfRivnIJQHoKCj5qZizYuU7R4ehhFvLVH5brnjdACwcpIH0v+tt/aT3UhP1roBQcYdfbMlyb0n5Hn6BHQqYqH/U/Gl0Pd6euJWbv9UdwXIJNNdZEPeYr3gBO/9zsoiKAfAZ2fbPLI29YoV/+d8kXpEXnv1RJjSEbAfb2/Do7idUcxE5Ki2xw+sl6scALme+/TlSws+2Tve2fzoO4dADRzz4heruyVlANhly306HnM1ZAR+7LkAALntsxdYrWqK7wjAxtjT47BrWYgyNrvyyE9PAJn58tz95P3ImWfKqWQE0NCGPEGRI9D15bEvakX6uchznyU70UovTW6IbsMgsZavYGlTsJ1WMMQ3TjzXb3c87gfmNR1/Xq7bAkiy8UoWdjcIcZnRf3HSare/vf0uAPLFnY0/L9ftIyAvXtm4EmJLW8fSUkkyGY8nw0GuYdYf54EWdKcITK268ogvfQMr+8nkT+PxUX/+ylDgHbo1wFSc7/yAR1KCJVdEdl3o74ZuHwF2wP8aIN2LPWYDV0blNN9oPppD0Iev1K0BGtQftGzP7QZBGOf6OVLTeUbkDX8VFwFZJyeP3W+6QRCBgHdohyYZ3CJPG4VMslmAcOccqEqvPYD0CTcAmyS8dwA0E/fGIB0S6PUFkCKA7g0gvTndALzeOcC/LCnoMNxd3F/kVfrSahL/2kr26H4LIoCznx1QWumkXcdMf7CmlW00DXIepGfMd+4kP3arVg6cq2ZTzGrH+zxYmSoO4zgO9KCV6TQUAHhGa0ZYWmyLlIVznN2QJ0m6gY93dveiCP/pe2UUDaXfSSj6JBmNzn/dS6bJlQNQF18w5HTYDkWAe4k0W6pT8uOz0cXoMAt8rgjo/Av4N/fklhaRUkb/+SH4KiOQzPPaygqC3gFyLt09s//pEAsZT+BXv28Mhslhdf61Jd9TFAZJL7Obs/8cAHzmmu24b5wNd3CT/6OkA80dWUK+j5s2W34qs1IchI8/GU+MwSnucMKYAQoHEv5/Ec9N5dGiuaGaBeEOylHDo8kESdgg+1viHE1H6QiIAV7IQE2BObJMdf3PH/ZwQ6dM2+3wKEZFzYFmeBWAhSS4vj444IuR/MqqKveZiu053Ay+9962Z+C2lhvDQtq7qsBkE2WggsBvy+UYCFL6NTCs1AfDf/073G0jAjOv2CrdL9Dn4chwRWFKn3zyj+sfvOshAhZahGmDtQbp1Dg5uRp/Vx5pogia6mlzflyrRiE0puk8PR6Or3S7YzioBEWhqlhSRGQMjv72lQWSpjKaXAur7pO8SjQ4upowiXrzf7O6MNmxvhhnAAAAAElFTkSuQmCC"},"1a74":function(t,e,A){},"1f31":function(t,e,A){},"20c3":function(t,e,A){},"21e6":function(t,e,A){},"25ae":function(t,e,A){"use strict";var n=A("a0b8"),a=A.n(n);a.a},"2e73":function(t,e,A){},"355b":function(t,e,A){t.exports=A.p+"img/grass.7e028f55.png"},"3b7c":function(t,e,A){"use strict";var n=A("e913"),a=A.n(n);a.a},"4d73":function(t,e,A){"use strict";var n=A("aa00"),a=A.n(n);a.a},"53d1":function(t,e,A){"use strict";var n=A("1a74"),a=A.n(n);a.a},"5c05":function(t,e,A){"use strict";var n=A("20c3"),a=A.n(n);a.a},"80b0":function(t,e,A){},"84bb":function(t,e,A){"use strict";var n=A("b9fe"),a=A.n(n);a.a},"85ec":function(t,e,A){},"866f":function(t,e,A){"use strict";var n=A("d014"),a=A.n(n);a.a},"89b9":function(t,e,A){"use strict";var n=A("b2f8"),a=A.n(n);a.a},"8d6d":function(t,e,A){"use strict";var n=A("024c"),a=A.n(n);a.a},"9aad":function(t,e,A){"use strict";var n=A("ae2e"),a=A.n(n);a.a},a0b8:function(t,e,A){},aa00:function(t,e,A){},ae2e:function(t,e,A){},b2f8:function(t,e,A){},b9fe:function(t,e,A){},be73:function(t,e,A){"use strict";var n=A("21e6"),a=A.n(n);a.a},bf2f:function(t,e,A){"use strict";var n=A("1f31"),a=A.n(n);a.a},cd49:function(t,e,A){"use strict";A.r(e);A("e260"),A("e6cf"),A("cca6"),A("a79d");var n=A("2b0e"),a=function(){var t=this,e=t.$createElement,A=t._self._c||e;return A("div",{attrs:{id:"app"}},[A("router-view"),A("div",{attrs:{id:"version"}},[t._v("Alpha v0.1.6")])],1)},i=[],s=A("d4ec"),r=A("99de"),c=A("7e84"),o=A("262e"),u=A("9ab4"),l=A("60a3"),h=function(t){function e(){return Object(s["a"])(this,e),Object(r["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(o["a"])(e,t),e}(l["c"]);h=u["a"]([Object(l["a"])({components:{}})],h);var d=h,f=d,p=(A("034f"),A("2877")),v=Object(p["a"])(f,a,i,!1,null,null,null),m=v.exports,b=A("8c4f"),y=function(){var t=this,e=t.$createElement,A=t._self._c||e;return A("div",{staticClass:"home"},[A("div",{staticClass:"master-selection",on:{click:function(e){return t.onSelection("/master")}}},[A("h1",[t._v("Game Master")])]),A("div",{staticClass:"player-selection",on:{click:function(e){return t.onSelection("/player")}}},[A("h1",[t._v("Player")])]),A("div",{staticClass:"spectator-selection",on:{click:function(e){return t.onSelection("/spectator")}}},[A("h1",[t._v("Spectator")])]),A("DialogueBox",{attrs:{title:"Welcome",message:"Spectrum is currently in alpha. Expect things to break or not work in the first place. If you have any suggestions or feedback feel free to email joshhess13@gmail.com.",hidden:t.showDialogue},on:{confirmed:t.onDialogue}})],1)},g=[],O=A("bee2"),j=function(){var t=this,e=t.$createElement,A=t._self._c||e;return A("div",{staticClass:"root"},[A("MapCanvas"),A("MapPalette",{attrs:{onTop:!0}})],1)},E=[],k=function(){var t=this,e=t.$createElement,A=t._self._c||e;return A("div",{staticClass:"root"},[A("canvas",{ref:"map-canvas"})])},C=[],I=(A("d81d"),A("4c53"),function(){function t(){Object(s["a"])(this,t),this.x=0,this.y=0,this.s=1}return Object(O["a"])(t,[{key:"move",value:function(t,e){this.x+=t/this.s,this.y+=e/this.s}},{key:"zoom",value:function(t){this.s+=t,this.s<.5?this.s=.5:this.s>10&&(this.s=10)}}]),t}()),x=I,w=(A("4ec9"),A("d3b7"),A("3ca3"),A("ddb0"),function(){function t(){Object(s["a"])(this,t),this.images=new Map,this.unloadedCount=0,this.initImages()}return Object(O["a"])(t,[{key:"hasLoaded",value:function(){return 0===this.unloadedCount}},{key:"getImage",value:function(t){var e=this.images.get(t);if(e)return e;throw new Error("Image ".concat(t," has not been loaded."))}},{key:"loadImage",value:function(e,A){if(!this.images.has(e)){this.unloadedCount+=1;var n=new Image(t.TILE_SIZE,t.TILE_SIZE);n.onload=this.onImageLoaded.bind(this),n.src=A,this.images.set(e,n)}}},{key:"initImages",value:function(){this.loadImage(t.ROCK_IMAGE,A("1963")),this.loadImage(t.COBBLE_IMAGE,A("d676")),this.loadImage(t.GRASS_IMAGE,A("355b"))}},{key:"onImageLoaded",value:function(){this.unloadedCount-=1}}]),t}());w.TILE_SIZE=64,w.ROCK_IMAGE="rock",w.COBBLE_IMAGE="cobble",w.GRASS_IMAGE="grass";var S=w,T=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(s["a"])(this,t),this.x=e,this.y=A}return Object(O["a"])(t,[{key:"add",value:function(t,e){return this.x+=t,this.y+=e,this}},{key:"addV",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"sub",value:function(t,e){return this.x-=t,this.y-=e,this}},{key:"subV",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"multiply",value:function(t){return this.x*=t,this.y*=t,this}},{key:"divide",value:function(t){return this.x/=t,this.y/=t,this}},{key:"floorDivide",value:function(t){return this.x=Math.floor(this.x/t),this.y=Math.floor(this.y/t),this}}]),t}(),Q=T,M=function(){function t(){Object(s["a"])(this,t),this.camera=new x}return Object(O["a"])(t,[{key:"begin",value:function(t){this.context=t,this.context.clearRect(0,0,this.context.canvas.width,this.context.canvas.height),this.context.strokeStyle="#e4f03d",this.context.lineWidth=3,this.context.beginPath()}},{key:"end",value:function(){this.context&&this.context.stroke(),this.context=void 0}},{key:"renderTile",value:function(t){this.context?this.context.drawImage(t.sprite,(t.x*S.TILE_SIZE+this.camera.x)*this.camera.s,(t.y*S.TILE_SIZE+this.camera.y)*this.camera.s,S.TILE_SIZE*this.camera.s,S.TILE_SIZE*this.camera.s):console.log("[ Screen ] Begin has not been called yet this frame.")}},{key:"renderTileOutline",value:function(t,e){var A=new Q(0,0);return this.context?this.context.rect(t,e,S.TILE_SIZE*this.camera.s,S.TILE_SIZE*this.camera.s):console.log("[ Screen ] Begin has not been called yet this frame."),A}},{key:"screenToWorldSpace",value:function(t){return t.divide(this.camera.s).sub(this.camera.x,this.camera.y)}},{key:"worldToScreenSpace",value:function(t){return t.divide(this.camera.s).sub(this.camera.x,this.camera.y)}},{key:"screenToIndexSpace",value:function(t){return t.divide(this.camera.s).sub(this.camera.x,this.camera.y).floorDivide(S.TILE_SIZE)}},{key:"indexToScreenSpace",value:function(t){return t.multiply(S.TILE_SIZE).add(this.camera.x,this.camera.y).multiply(this.camera.s)}}]),t}(),B=M,_=function(){function t(){Object(s["a"])(this,t),this.upPressed=!1,this.downPressed=!1,this.leftPressed=!1,this.rightPressed=!1,this.panPressed=!1,this.clickDown=!1,this.mdx=0,this.mdy=0,this.mlx=0,this.mly=0,this.ds=0,this.mx=0,this.my=0}return Object(O["a"])(t,[{key:"getClick",value:function(){return this.clickDown}},{key:"update",value:function(t,e){var A=5,n=this.leftPressed?this.rightPressed?0:-A:this.rightPressed?A:0,a=this.upPressed?this.downPressed?0:-A:this.downPressed?A:0;n+=this.mdx,a+=this.mdy,this.mdx=0,this.mdy=0,e.move(-n,-a),e.zoom(this.ds),this.ds=0}},{key:"registerEvents",value:function(){document.addEventListener("keydown",this.onKeyDown.bind(this),{passive:!0}),document.addEventListener("keyup",this.onKeyUp.bind(this),{passive:!0}),document.addEventListener("mousedown",this.onMouseDown.bind(this),{passive:!0}),document.addEventListener("mousemove",this.onMouseMove.bind(this),{passive:!0}),document.addEventListener("mouseup",this.onMouseUp.bind(this),{passive:!0}),document.addEventListener("wheel",this.onScroll.bind(this),{passive:!0})}},{key:"unRegisterEvents",value:function(){document.removeEventListener("keydown",this.onKeyDown.bind(this)),document.removeEventListener("keyup",this.onKeyUp.bind(this))}},{key:"onKeyDown",value:function(t){65===t.keyCode||37===t.keyCode?this.leftPressed=!0:87===t.keyCode||38===t.keyCode?this.upPressed=!0:83===t.keyCode||40===t.keyCode?this.downPressed=!0:68!==t.keyCode&&39!==t.keyCode||(this.rightPressed=!0)}},{key:"onKeyUp",value:function(t){65===t.keyCode||37===t.keyCode?this.leftPressed=!1:87===t.keyCode||38===t.keyCode?this.upPressed=!1:83===t.keyCode||40===t.keyCode?this.downPressed=!1:68!==t.keyCode&&39!==t.keyCode||(this.rightPressed=!1)}},{key:"onMouseDown",value:function(t){(t.shiftKey||1===t.button)&&(this.panPressed=!0,this.mlx=t.screenX,this.mly=t.screenY),this.clickDown=!0}},{key:"onMouseMove",value:function(t){this.mx=t.clientX,this.my=t.clientY,this.panPressed&&(this.mdx+=this.mlx-t.screenX,this.mdy+=this.mly-t.screenY,this.mlx=t.screenX,this.mly=t.screenY)}},{key:"onMouseUp",value:function(t){this.panPressed=!1,this.clickDown=!1}},{key:"onScroll",value:function(t){this.ds-=t.deltaY/1e3}}]),t}(),R=_,G=function(){function t(){Object(s["a"])(this,t)}return Object(O["a"])(t,null,[{key:"createTile",value:function(t,e,A,n){return{sprite:t.state.assets.getImage(e),x:A,y:n}}}]),t}(),D=function(){function t(e,A){Object(s["a"])(this,t),this.width=e,this.height=A,this.tiles=new Array(e*A)}return Object(O["a"])(t,[{key:"initTiles",value:function(t){for(var e=0;e<this.height;e++)for(var A=0;A<this.width;A++)this.tiles[this.width*e+A]=G.createTile(t,"grass",A,e)}},{key:"getTile",value:function(t,e){if(!(t<0||t>=this.width||e<0||e>=this.height))return this.tiles[this.width*e+t]}},{key:"render",value:function(t){for(var e=0;e<this.height;e++)for(var A=0;A<this.width;A++)t.renderTile(this.getTile(A,e))}}]),t}(),P=function(){function t(e){Object(s["a"])(this,t),this.store=e,this.cursorLocation=new Q}return Object(O["a"])(t,[{key:"update",value:function(t,e,A){if(this.cursorLocation.x=e.mx,this.cursorLocation.y=e.my,t.screenToIndexSpace(this.cursorLocation),e.getClick()){var n=A.getTile(this.cursorLocation.x,this.cursorLocation.y);n&&this.store.state.selected&&this.lastTileEdited!==n&&(n.sprite=this.store.state.assets.getImage(this.store.state.selected),this.lastTileEdited=n)}else this.lastTileEdited=void 0;t.indexToScreenSpace(this.cursorLocation)}},{key:"render",value:function(t){t.renderTileOutline(this.cursorLocation.x,this.cursorLocation.y)}}]),t}(),L=function(){function t(e){Object(s["a"])(this,t),this.store=e,this.controller=new R,this.screen=new B,this.map=new D(16,16),this.map.initTiles(this.store),this.editor=new P(this.store),this.controller.registerEvents()}return Object(O["a"])(t,[{key:"update",value:function(t){this.controller.update(t,this.screen.camera),this.editor.update(this.screen,this.controller,this.map)}},{key:"render",value:function(t){this.store.state.assets.hasLoaded()&&(this.screen.begin(t),this.map.render(this.screen),this.editor.render(this.screen),this.screen.end())}},{key:"close",value:function(){}}]),t}(),H=function(t){function e(){return Object(s["a"])(this,e),Object(r["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(o["a"])(e,t),Object(O["a"])(e,[{key:"mounted",value:function(){var t=this.$refs["map-canvas"];this.context=t.getContext("2d"),this.context.canvas.width=this.context.canvas.clientWidth,this.context.canvas.height=this.context.canvas.clientHeight,window.addEventListener("resize",this.onResize.bind(this),{passive:!0}),this.map=new L(this.$store),this.lastTime=Date.now(),this.requestId=requestAnimationFrame(this.tick.bind(this))}},{key:"tick",value:function(t){var e=t-this.lastTime;this.map.update(e),this.lastTime=t,this.map.render(this.context),this.requestId=requestAnimationFrame(this.tick.bind(this))}},{key:"onResize",value:function(t){this.context.canvas.width=this.context.canvas.clientWidth,this.context.canvas.height=this.context.canvas.clientHeight}}]),e}(l["c"]);H=u["a"]([Object(l["a"])({name:"MapCanvas",components:{}})],H);var F=H,U=F,Y=(A("53d1"),Object(p["a"])(U,k,C,!1,null,"49eda578",null)),z=Y.exports,J=function(){var t=this,e=t.$createElement,A=t._self._c||e;return A("div",{staticClass:"palette",class:{top:t.onTop,left:!t.onTop}},t._l(t.sprites,(function(e){return A("div",{key:e,staticClass:"tile"},[A("img",{attrs:{src:t.$store.state.assets.images.get(e).src,alt:e},on:{click:function(A){return t.onClick(A,e)}}})])})),0)},q=[],Z=A("2909"),K=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(r["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.sprites=[],t}return Object(o["a"])(e,t),Object(O["a"])(e,[{key:"mounted",value:function(){var t=this.$store;this.sprites=Object(Z["a"])(t.state.assets.images.keys())}},{key:"onClick",value:function(t,e){var A=this.$store;A.state.selected=e}}]),e}(l["c"]);u["a"]([Object(l["b"])({default:!0})],K.prototype,"onTop",void 0),K=u["a"]([Object(l["a"])({name:"MapPalette",components:{}})],K);var V=K,W=V,X=(A("d70e"),Object(p["a"])(W,J,q,!1,null,"fb98a20e",null)),N=X.exports,$=function(t){function e(){return Object(s["a"])(this,e),Object(r["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(o["a"])(e,t),e}(l["c"]);$=u["a"]([Object(l["a"])({name:"World",components:{MapCanvas:z,MapPalette:N}})],$);var tt=$,et=tt,At=(A("25ae"),Object(p["a"])(et,j,E,!1,null,"19c9b54a",null)),nt=At.exports,at=function(){var t=this,e=t.$createElement,A=t._self._c||e;return A("div",{staticClass:"dialogue-background",class:{hidden:t.hidden}},[A("div",{staticClass:"dialogue-box"},[A("h1",[t._v(t._s(t.title))]),A("h2",[t._v(t._s(t.message))]),A("div",{staticClass:"dialogue-button",on:{click:function(e){t.hidden=!0,t.$emit("confirmed")}}},[A("h2",[t._v("Confirm")])])])])},it=[],st=function(t){function e(){return Object(s["a"])(this,e),Object(r["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(o["a"])(e,t),e}(l["c"]);st=u["a"]([Object(l["a"])({name:"DialogueBox",components:{},props:{title:String,message:String,hidden:String}})],st);var rt=st,ct=rt,ot=(A("08df"),Object(p["a"])(ct,at,it,!1,null,"11dabef2",null)),ut=ot.exports,lt=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(r["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.showDialogue=!1,t}return Object(o["a"])(e,t),Object(O["a"])(e,[{key:"mounted",value:function(){this.showDialogue=this.$store.state.welcomeMessage}},{key:"onDialogue",value:function(){this.$store.state.welcomeMessage=!0,this.showDialogue=!0}},{key:"onSelection",value:function(t){this.$router.push(t)}}]),e}(l["c"]);lt=u["a"]([Object(l["a"])({name:"Home",components:{World:nt,DialogueBox:ut}})],lt);var ht=lt,dt=ht,ft=(A("866f"),Object(p["a"])(dt,y,g,!1,null,"8bcc5396",null)),pt=ft.exports,vt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},mt=[function(){var t=this,e=t.$createElement,A=t._self._c||e;return A("div",{staticClass:"about"},[A("h1",[t._v("This is an about page")])])}],bt={},yt=Object(p["a"])(bt,vt,mt,!1,null,null,null),gt=yt.exports,Ot=function(){var t=this,e=t.$createElement,A=t._self._c||e;return A("div",{staticClass:"master"},[A("InfoBar",{attrs:{title:"Maps",subtitle:"Example Campaign"}}),A("div",{staticClass:"content"},[t._m(0),A("div",{staticClass:"templates"},t._l(t.templates,(function(e){return A("TemplateCard",{key:e.id,attrs:{title:e.name,thumbnail:e.thumbnail},on:{load:function(A){return t.loadTemplate(e)}}})})),1),t._m(1),A("div",{staticClass:"body"},t._l(t.maps,(function(e){return A("MapCard",{key:e,attrs:{title:e},on:{load:function(A){return t.loadMap(e)}}})})),1)])],1)},jt=[function(){var t=this,e=t.$createElement,A=t._self._c||e;return A("div",{staticClass:"template-header"},[A("h1",[t._v("Start a new map")])])},function(){var t=this,e=t.$createElement,A=t._self._c||e;return A("div",{staticClass:"body-header"},[A("h1",[t._v("Recent maps")])])}],Et=(A("99af"),A("b0c0"),A("96cf"),A("1da1")),kt=function(){var t=this,e=t.$createElement,A=t._self._c||e;return A("div",{staticClass:"info-bar"},[A("h1",{staticClass:"left"},[t._v(t._s(t.title))]),A("div",{staticClass:"search"},[t._v(t._s(t.search))]),A("h1",{staticClass:"right"},[t._v(t._s(t.subtitle))])])},Ct=[],It=(A("ac1f"),A("841c"),function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(r["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.search="Search",t}return Object(o["a"])(e,t),e}(l["c"]));It=u["a"]([Object(l["a"])({name:"InfoBar",components:{},props:{title:String,subtitle:String}})],It);var xt=It,wt=xt,St=(A("d1f0"),Object(p["a"])(wt,kt,Ct,!1,null,"cec287b6",null)),Tt=St.exports,Qt=function(){var t=this,e=t.$createElement,A=t._self._c||e;return A("div",{staticClass:"map-card",on:{click:function(e){return t.$emit("load")}}},[A("div",{staticClass:"thumb"}),A("h1",[t._v(t._s(t.title))])])},Mt=[],Bt=function(t){function e(){return Object(s["a"])(this,e),Object(r["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(o["a"])(e,t),e}(l["c"]);Bt=u["a"]([Object(l["a"])({name:"MapCard",components:{},props:{title:String}})],Bt);var _t=Bt,Rt=_t,Gt=(A("8d6d"),Object(p["a"])(Rt,Qt,Mt,!1,null,"56aaa73a",null)),Dt=Gt.exports,Pt=function(){var t=this,e=t.$createElement,A=t._self._c||e;return A("div",{staticClass:"template-card",on:{click:function(e){return t.$emit("load")}}},[A("div",{staticClass:"thumb"},[A("img",{attrs:{src:t.thumbnail,alt:t.title}})]),A("h1",[t._v(t._s(t.title))])])},Lt=[],Ht=function(t){function e(){return Object(s["a"])(this,e),Object(r["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(o["a"])(e,t),e}(l["c"]);Ht=u["a"]([Object(l["a"])({name:"TemplateCard",components:{},props:{title:String,thumbnail:String}})],Ht);var Ft=Ht,Ut=Ft,Yt=(A("89b9"),Object(p["a"])(Ut,Pt,Lt,!1,null,"e4a21486",null)),zt=Yt.exports,Jt=A("bc3a"),qt=A.n(Jt),Zt=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(r["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.templates=[],t.maps=[],t}return Object(o["a"])(e,t),Object(O["a"])(e,[{key:"mounted",value:function(){var t=Object(Et["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.requestMaps("Example").then((function(){return e.requestTemplates()})).catch((function(t){console.log("[ Master ] Error:${error}")}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"requestMaps",value:function(){var t=Object(Et["a"])(regeneratorRuntime.mark((function t(e){var A;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log("[ Master ] Requesting maps for group ".concat(e,".")),t.next=4,qt.a.get("/requestMaps",{data:{groupId:e}});case 4:A=t.sent,A.data&&A.data.maps&&(this.maps=A.data.maps),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"loadMap",value:function(){var t=Object(Et["a"])(regeneratorRuntime.mark((function t(e,A){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log("[ Master ] Got load ".concat(A," map request for ").concat(e,".")),t.next=4,qt.a.get("/loadMap",{data:{groupId:e,map:A}});case 4:n=t.sent,n.data&&n.data.map&&(this.templates=n.data.templates),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(e,A){return t.apply(this,arguments)}return e}()},{key:"requestTemplates",value:function(){var t=Object(Et["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log("[ Master ] Got request templates."),t.next=4,qt.a.get("/requestTemplates");case 4:e=t.sent,e.data&&e.data.templates&&(this.templates=e.data.templates),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"loadTemplate",value:function(){var t=Object(Et["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("[ Master ] Got load template request for ".concat(e.name,".")),this.$store.state.currentMap=e,this.$router.push("editor");case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),e}(l["c"]);Zt=u["a"]([Object(l["a"])({name:"Master",components:{InfoBar:Tt,MapCard:Dt,TemplateCard:zt}})],Zt);var Kt=Zt,Vt=Kt,Wt=(A("f952"),Object(p["a"])(Vt,Ot,jt,!1,null,"3f77489b",null)),Xt=Wt.exports,Nt=function(){var t=this,e=t.$createElement,A=t._self._c||e;return A("div",{staticClass:"player"})},$t=[],te=function(t){function e(){return Object(s["a"])(this,e),Object(r["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(o["a"])(e,t),e}(l["c"]);te=u["a"]([Object(l["a"])({name:"Player",components:{}})],te);var ee=te,Ae=ee,ne=(A("9aad"),Object(p["a"])(Ae,Nt,$t,!1,null,"6641f362",null)),ae=ne.exports,ie=function(){var t=this,e=t.$createElement,A=t._self._c||e;return A("div",{staticClass:"spectator"})},se=[],re=function(t){function e(){return Object(s["a"])(this,e),Object(r["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(o["a"])(e,t),e}(l["c"]);re=u["a"]([Object(l["a"])({name:"Spectator",components:{}})],re);var ce=re,oe=ce,ue=(A("5c05"),Object(p["a"])(oe,ie,se,!1,null,"600f29fe",null)),le=ue.exports,he=function(){var t=this,e=t.$createElement,A=t._self._c||e;return A("div",{staticClass:"editor"},[A("TabBar"),A("MapCanvas")],1)},de=[],fe=function(){var t=this,e=t.$createElement,A=t._self._c||e;return A("div",{staticClass:"tab-bar"},[A("div",{staticClass:"tabs"},t._l(t.tabs,(function(e){return A("Tab",{key:e.name,attrs:{name:e.name,active:e.active,image:e.image},on:{clicked:function(A){return t.onClick(e)}}})})),1),A("div",{staticClass:"content",class:{hidden:!t.tabActive}},[A(t.currentTab,{tag:"component"})],1)])},pe=[],ve=(A("4160"),A("159b"),function(){var t=this,e=t.$createElement,A=t._self._c||e;return A("div",{staticClass:"tab",class:{highlighted:t.active},on:{click:function(e){return t.$emit("clicked")}}},[t._v(" "+t._s(t.image)+" ")])}),me=[],be=function(t){function e(){return Object(s["a"])(this,e),Object(r["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(o["a"])(e,t),e}(l["c"]);u["a"]([Object(l["b"])()],be.prototype,"name",void 0),u["a"]([Object(l["b"])()],be.prototype,"active",void 0),u["a"]([Object(l["b"])()],be.prototype,"image",void 0),be=u["a"]([Object(l["a"])({name:"Tab",components:{}})],be);var ye=be,ge=ye,Oe=(A("bf2f"),Object(p["a"])(ge,ve,me,!1,null,"7bbf027b",null)),je=Oe.exports,Ee=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ke=[function(){var t=this,e=t.$createElement,A=t._self._c||e;return A("div",{staticClass:"file-bar"},[A("div",{staticClass:"title"},[t._v("- FILE -")]),A("div",{staticClass:"button"},[t._v("New")]),A("div",{staticClass:"button"},[t._v("Save")]),A("div",{staticClass:"button"},[t._v("Save As")]),A("div",{staticClass:"button"},[t._v("Load")])])}],Ce=function(t){function e(){return Object(s["a"])(this,e),Object(r["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(o["a"])(e,t),e}(l["c"]);Ce=u["a"]([Object(l["a"])({name:"FileBar",components:{}})],Ce);var Ie=Ce,xe=Ie,we=(A("4d73"),Object(p["a"])(xe,Ee,ke,!1,null,"0db51631",null)),Se=we.exports,Te=function(){var t=this,e=t.$createElement,A=t._self._c||e;return A("div",{staticClass:"tile-bar"})},Qe=[],Me=function(t){function e(){return Object(s["a"])(this,e),Object(r["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(o["a"])(e,t),e}(l["c"]);Me=u["a"]([Object(l["a"])({name:"FileBar",components:{}})],Me);var Be=Me,_e=Be,Re=(A("84bb"),Object(p["a"])(_e,Te,Qe,!1,null,"8cf2c92c",null)),Ge=Re.exports,De=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(r["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.tabs=[],t.currentTab=null,t.tabActive=!1,t}return Object(o["a"])(e,t),Object(O["a"])(e,[{key:"mounted",value:function(){this.tabs=[{name:"File",active:!1,image:"F",component:Se},{name:"Assets",active:!1,image:"A",component:Ge},{name:"Tiles",active:!1,image:"T",component:Ge},{name:"Forum",active:!1,image:"C",component:Ge}]}},{key:"onClick",value:function(t){console.log("got tab: ".concat(t.name)),this.tabs.forEach((function(e){t.name!==e.name&&(e.active=!1)})),t.active?(t.active=!1,this.currentTab=null,this.tabActive=!1):(t.active=!0,this.currentTab=t.component,this.tabActive=!0)}}]),e}(l["c"]);De=u["a"]([Object(l["a"])({name:"TabBar",components:{Tab:je}})],De);var Pe=De,Le=Pe,He=(A("be73"),Object(p["a"])(Le,fe,pe,!1,null,"575c0170",null)),Fe=He.exports,Ue=function(t){function e(){return Object(s["a"])(this,e),Object(r["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(o["a"])(e,t),e}(l["c"]);Ue=u["a"]([Object(l["a"])({name:"Editor",components:{MapCanvas:z,TabBar:Fe}})],Ue);var Ye=Ue,ze=Ye,Je=(A("3b7c"),Object(p["a"])(ze,he,de,!1,null,"3de30383",null)),qe=Je.exports;n["a"].use(b["a"]);var Ze=new b["a"]({routes:[{path:"/",name:"home",component:pt},{path:"/about",name:"about",component:gt},{path:"/master",name:"master",component:Xt},{path:"/player",name:"player",component:ae},{path:"/spectator",name:"spectator",component:le},{path:"/editor",name:"editor",component:qe}]}),Ke=A("2f62");function Ve(){return{discriminator:"spectrum.map",id:"d10c2776-cc1b-402f-b87c-46da711c4da6",name:"Default Map",thumbnail:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAsTAAALEwEAmpwYAAABcVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATWVroAAAAenRSTlMAAQIDBAUGBwgJCwwNDxAREhQVFhcZGhseHyAhIiUmJygtLzA1Nzg9P0FGSEpQUlRbXF9lZ2hqbnFzdXZ8foCDiYqMjo+VlpecoKKpq62us7W3uL2+wMPHyczP0NHU1dbY3N3e4OLj5Obo6ert7u/y8/X29/n6+/z9/l5G4FoAAAInSURBVHja7dxXVxRBEIbhWlfEJRhACYJiQEAFBCQZAROyJhQURdRdSSaQpLj167mnLmUGqny/H1A9z/Q53VOn57TInub0J000klIaixoCcm5RQ0AufNMQkNafGgLS/ktDQK6uawhI15aGgPT80RCQG381BGRYNQTkrsaAjGkISOaRhoBkJxIeMiVI2TMNATk6qSEgldMaAnJsRkNAamY1BKTus4aAnPmiISAtS7ufvOQScvG7mYIBj5DLK8YxJA4hHWvGcUscQq5tGMcdcQjptu35iDiE9G4bx6g4hPSXjOOhOITctFvfY3EIuWcdTzIOIfetI39I3EEy49bxNCvuINm8dbw4LO4gR55bx8sycQfJvbKO1+XiDlL1xjqmcuIOcvyddbytEHeQ2jnrmKkSd5D6gnW8rxZ3kOZ56/hwQtxBzi9bx8eT4g5y6Yd1FE6JO0jbqnUU68Qd5Iptz3WhQdxBOjetY6lJ3EGu/7aOr2fFHaRve/8Pyfai6mBJQ0BuH4hjy3+vOqIxIA80CESBAAECBAgQIKn9JwUECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAOaBvAggQIECAAAECBAgQIECAAPl/IYmOBQQIECBAgAABAgQIECBAgAAB4hCyD5cqAQECBAgQIECAAAHCZzwQIECAAAECBAgQIECcQJJthYAAAQLEFyTFtR0IECBAgJDY2QGtwG+USmY7swAAAABJRU5ErkJggg==",height:16,width:16,tiles:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}n["a"].use(Ke["b"]);var We=new Ke["a"]({state:{welcomeMessage:!1,currentMap:Ve(),assets:new S,selected:""},mutations:{},actions:{},modules:{}});n["a"].config.productionTip=!1,new n["a"]({router:Ze,store:We,render:function(t){return t(m)}}).$mount("#app")},d014:function(t,e,A){},d1f0:function(t,e,A){"use strict";var n=A("2e73"),a=A.n(n);a.a},d676:function(t,e,A){t.exports=A.p+"img/cobble.40ac5c6f.png"},d70e:function(t,e,A){"use strict";var n=A("80b0"),a=A.n(n);a.a},de95:function(t,e,A){},e478:function(t,e,A){},e913:function(t,e,A){},f952:function(t,e,A){"use strict";var n=A("e478"),a=A.n(n);a.a}});
//# sourceMappingURL=app.4b809b13.js.map